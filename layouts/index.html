{{ define "main" }}
<div class="box" id="text">

	<h1>Matthew Kaul</h1>

	<p>Skeptical Christian humanist | essayist | lover of family, trees, rivers, &amp; books. <br />By day, I work as a <a href="https://medtronic.com">technical writer and project manager</a>.

	<h2>Essays</h2>
	<p>I also write a <a href="https://mjkaul.substack.com/">newsletter on Substack</a>.</p>
		
	{{ range (where .Site.RegularPages "Section" "essays").ByDate.Reverse }}
	<p><a href="{{ .RelPermalink }}">{{ .Title }}</a>{{ with .Params.description }} — {{ . }}{{ end }}
	{{ else }}
	<p><em>No essays yet.</em>
	{{ end }}

	<h2>Short Posts</h2>

	<div id="microblog-posts">
		<p><em>Loading...</em></p>
	</div>
	<p class="links"><a href="{{ .Site.Params.microblog_url }}">All short posts &rarr;</a></p>

<!--
	
	<h2>Other projects</h2>

	<p><a href="project1">example 1</a> is a explanation here.

	<p><a href="project2">example 2</a> is a explanation here.

	<h2>Archive</h2>

	<p><a href="archive1">Archive 1</a> with explanation here.

	<p><a href="archive2">Archive 2</a> with explanation here.

	<p><a href="archive3">Archive 3</a> with explanation here.

	-->
		<h2>Blogroll</h2>

	<p><a href="https://blog.ayjay.org/">Alan Jacobs</a> (<a href="https://social.ayjay.org/">short posts here</a>) has been one of my favorite writers since I first encountered his work as an undergraduate, over 20 years ago now (!!).

	<p>You simply have to read all of <a href="https://www.robinsloan.com/">Robin Sloan</a>'s work—his books, his blog—and also sample the delicious olive oil he and his partner make.

	<p>I love <a href="https://nabeelqu.co/">Nabeel Qureshi's essays</a> on books and technology.

	<p>Do I wish more jazz musicians were active on the indie web? I suppose not—not at the expense of making music. But there's always <a href="https://ethaniverson.com/">Ethan Iverson</a> and <a href="https://www.tedgioia.com/">Ted Gioia</a>, though both are more active on Substack now.

	<p>I love the cabins built by <a href="https://www.youtube.com/@Bushradical">Bush Radical</a> and hope to one day build a similar cabin in the woods on my 7 acre homestead.

	<h3>Indie Web</h3>

	<p><a href="https://beschizza.com/">Rob Beschizza</a> is a great writer and indie web developer (see especially <a href="https://txt.fyi">txt.fyi</a>. Hope he doesn't mind my cloning his homepage as the template for my own. <a href="https://www.manton.org/">Manton Reece</a> is the brilliant mind behind <a href="https://micro.blog">Micro.blog</a>. <a href="https://www.htmlhobbyist.com/">HTML Hobbyist</a> is a great place to get started in this world.

</div>

<script>
(function() {
	const microblogUrl = {{ .Site.Params.microblog_url }};
	const feedUrl = microblogUrl + '/feed.json';
	const container = document.getElementById('microblog-posts');

	fetch(feedUrl)
		.then(response => response.json())
		.then(data => {
			const posts = data.items.slice(0, 5);
			if (posts.length === 0) {
				container.innerHTML = '<p><em>No posts yet.</em></p>';
				return;
			}
			let html = '';
			posts.forEach(post => {
				const title = post.title || '';
				const content = post.content_html || post.content_text || '';
				const date = new Date(post.date_published).toLocaleDateString('en-US', {
					year: 'numeric', month: 'short', day: 'numeric'
				});
				const url = post.url;

				html += '<div class="microblog-post">';
				if (title) {
					html += '<p><strong><a href="' + url + '">' + title + '</a></strong></p>';
				}
				html += '<div class="microblog-content">' + content + '</div>';
				html += '<p class="microblog-meta"><a href="' + url + '">' + date + '</a></p>';
				html += '</div>';
			});
			container.innerHTML = html;
		})
		.catch(err => {
			container.innerHTML = '<p><em>Could not load posts.</em></p>';
		});
})();
</script>
{{ end }}
